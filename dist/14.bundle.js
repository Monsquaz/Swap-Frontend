(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{134:function(e,n,a){"use strict";a.r(n);var i=a(135),t=a.n(i);for(var r in i)"default"!==r&&function(e){a.d(n,e,function(){return i[e]})}(r);n.default=t.a},135:function(e,n,a){"use strict";a(82),e.exports={name:"forgot-password-form",data:function(){return{usernameOrEmail:"",usersQuery:a(80),requestPasswordResetMutation:a(259),user:null,error:null,message:null,password:"",complete:!1}},computed:{variables:function(){return{code:this.$route.query.code,userId:this.user.id,password:this.password}}},methods:{setPassword:function(e){e({variables:this.variables})},onError:function(e){this.error=e.message,this.message=null},onDone:function(e){var n=e.data;this.error=null,this.message=n[Object.keys(n)[0]].message},userPasswordUpdated:function(e){var n=this;n.onDone(e),n.complete=!0,setTimeout(function(){n.$router.push({path:"/"})},3e3)},onResult:function(e){var n=e.data;switch(console.warn("data",n),n.users.length){default:case 0:this.message=null,this.error="Incorrect password reset code";break;case 1:this.user=n.users[0]}}},metaInfo:function(){return{title:function(){return"Forgot password"},meta:[{name:"description",content:"Forgot password form."}]}}}},136:function(e,n,a){var i=a(261);"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);(0,a(10).default)("edee59d4",i,!0,{})},258:function(e,n){var a={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"UpdateUserPassword"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"code"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"userId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"password"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"updateUserPassword"},arguments:[{kind:"Argument",name:{kind:"Name",value:"params"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"code"},value:{kind:"Variable",name:{kind:"Name",value:"code"}}},{kind:"ObjectField",name:{kind:"Name",value:"userId"},value:{kind:"Variable",name:{kind:"Name",value:"userId"}}},{kind:"ObjectField",name:{kind:"Name",value:"password"},value:{kind:"Variable",name:{kind:"Name",value:"password"}}}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"code"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"message"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:192}};a.loc.source={body:"mutation UpdateUserPassword($code: String!, $userId: ID!, $password: String!) {\r\n  updateUserPassword(params: {code: $code, userId: $userId, password: $password}) {\r\n    code message\r\n  }\r\n}\r\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function t(e,n){for(var a=0;a<e.definitions.length;a++){var i=e.definitions[a];if(i.name&&i.name.value==n)return i}}a.definitions.forEach(function(e){if(e.name){var n=new Set;!function e(n,a){if("FragmentSpread"===n.kind)a.add(n.name.value);else if("VariableDefinition"===n.kind){var i=n.type;"NamedType"===i.kind&&a.add(i.name.value)}n.selectionSet&&n.selectionSet.selections.forEach(function(n){e(n,a)}),n.variableDefinitions&&n.variableDefinitions.forEach(function(n){e(n,a)}),n.definitions&&n.definitions.forEach(function(n){e(n,a)})}(e,n),i[e.name.value]=n}}),e.exports=a,e.exports.UpdateUserPassword=function(e,n){var a={kind:e.kind,definitions:[t(e,n)]};e.hasOwnProperty("loc")&&(a.loc=e.loc);for(var r=i[n]||new Set,s=new Set,d=new Set(r);d.size>0;){var o=d;d=new Set,o.forEach(function(e){s.has(e)||(s.add(e),(i[e]||new Set).forEach(function(e){d.add(e)}))})}return s.forEach(function(n){var i=t(e,n);i&&a.definitions.push(i)}),a}(a,"UpdateUserPassword")},259:function(e,n){var a={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"RequestPasswordReset"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"usernameOrEmail"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"requestPasswordReset"},arguments:[{kind:"Argument",name:{kind:"Name",value:"usernameOrEmail"},value:{kind:"Variable",name:{kind:"Name",value:"usernameOrEmail"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"code"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"message"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:152}};a.loc.source={body:"mutation RequestPasswordReset($usernameOrEmail: String!) {\r\n  requestPasswordReset(usernameOrEmail: $usernameOrEmail) {\r\n    code\r\n    message\r\n  }\r\n}\r\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function t(e,n){for(var a=0;a<e.definitions.length;a++){var i=e.definitions[a];if(i.name&&i.name.value==n)return i}}a.definitions.forEach(function(e){if(e.name){var n=new Set;!function e(n,a){if("FragmentSpread"===n.kind)a.add(n.name.value);else if("VariableDefinition"===n.kind){var i=n.type;"NamedType"===i.kind&&a.add(i.name.value)}n.selectionSet&&n.selectionSet.selections.forEach(function(n){e(n,a)}),n.variableDefinitions&&n.variableDefinitions.forEach(function(n){e(n,a)}),n.definitions&&n.definitions.forEach(function(n){e(n,a)})}(e,n),i[e.name.value]=n}}),e.exports=a,e.exports.RequestPasswordReset=function(e,n){var a={kind:e.kind,definitions:[t(e,n)]};e.hasOwnProperty("loc")&&(a.loc=e.loc);for(var r=i[n]||new Set,s=new Set,d=new Set(r);d.size>0;){var o=d;d=new Set,o.forEach(function(e){s.has(e)||(s.add(e),(i[e]||new Set).forEach(function(e){d.add(e)}))})}return s.forEach(function(n){var i=t(e,n);i&&a.definitions.push(i)}),a}(a,"RequestPasswordReset")},260:function(e,n,a){"use strict";var i=a(136);a.n(i).a},261:function(e,n,a){(e.exports=a(9)(!1)).push([e.i,"\n.forgot-password-form[data-v-1cbb17a6]{min-width:400px\n}\n",""])},291:function(e,n,a){"use strict";var i=function(){var e=this,n=e.$createElement,i=e._self._c||n;return i("div",[i("hero",{attrs:{title:"Forgot password",subtitle:"Don't do it again"}}),e._v(" "),i("div",{staticClass:"columns is-centered"},[i("section",{staticClass:"login-form content-box column is-one-quarter"},[e.error?i("div",{staticClass:"notification is-danger"},[e._v(e._s(e.error))]):e._e(),e._v(" "),e.message?i("div",{staticClass:"notification is-info"},[e._v(e._s(e.message))]):e._e(),e._v(" "),e.$route.query.code?[i("ApolloQuery",{staticClass:"users",attrs:{query:e.usersQuery,variables:{filters:{passwordResetCode:e.$route.query.code}}},on:{result:e.onResult,error:e.onError},scopedSlots:e._u([{key:"default",fn:function(n){n.query;var t=n.result,r=t.data,s=t.loading;return[r&&!s?[e.complete?e._e():i("ApolloMutation",{attrs:{mutation:a(258)},on:{done:e.userPasswordUpdated},scopedSlots:e._u([{key:"default",fn:function(n){var a=n.mutate,t=(n.loading,n.error,n.gqlError);return[t?i("div",{staticClass:"notification is-danger"},[e._v("\n                    "+e._s(t.message)+"\n                  ")]):e._e(),e._v(" "),i("form",[i("div",{staticClass:"field"},[i("label",{staticClass:"label"},[e._v("New password")]),e._v(" "),i("div",{staticClass:"control has-icons-left has-icons-right"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],staticClass:"input",attrs:{type:"password",tabindex:"1",autocomplete:"password_new",placeholder:"New password"},domProps:{value:e.password},on:{keyup:function(n){if(!("button"in n)&&e._k(n.keyCode,"enter",13,n.key,"Enter"))return null;e.setPassword(a)},input:function(n){n.target.composing||(e.password=n.target.value)}}}),e._v(" "),i("span",{staticClass:"icon is-small is-left"},[i("icon",{attrs:{name:"user",scale:"1"}})],1)])]),e._v(" "),i("div",{staticClass:"field"},[i("p",{staticClass:"control"},[i("a",{staticClass:"button",on:{click:function(n){e.setPassword(a)}}},[e._v("\n                          Set password\n                        ")])])])])]}}])})]:e._e()]}}])})]:[i("ApolloMutation",{attrs:{mutation:e.requestPasswordResetMutation,variables:{usernameOrEmail:e.usernameOrEmail}},on:{done:e.onDone},scopedSlots:e._u([{key:"default",fn:function(n){var a=n.mutate,t=(n.loading,n.error,n.gqlError);return[i("form",[i("div",{staticClass:"field"},[i("label",{staticClass:"label"},[e._v("Username or email")]),e._v(" "),i("div",{staticClass:"control has-icons-left has-icons-right"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.usernameOrEmail,expression:"usernameOrEmail"}],staticClass:"input",attrs:{type:"text",tabindex:"1",autocomplete:"username",placeholder:"Username or email"},domProps:{value:e.usernameOrEmail},on:{input:function(n){n.target.composing||(e.usernameOrEmail=n.target.value)}}}),e._v(" "),i("span",{staticClass:"icon is-small is-left"},[i("icon",{attrs:{name:"user",scale:"1"}})],1)])]),e._v(" "),i("a",{staticClass:"button",on:{click:function(e){a()}}},[e._v("Procceed")]),e._v(" "),t?i("p",{staticClass:"error"},[e._v(e._s(t.message))]):e._e()])]}}])})]],2)])],1)},t=[];a.d(n,"a",function(){return i}),a.d(n,"b",function(){return t})},67:function(e,n,a){"use strict";a.r(n);var i=a(291),t=a(134);for(var r in t)"default"!==r&&function(e){a.d(n,e,function(){return t[e]})}(r);a(260);var s=a(4),d=Object(s.a)(t.default,i.a,i.b,!1,null,"1cbb17a6",null);n.default=d.exports},80:function(e,n){var a={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"Users"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"offset"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}},defaultValue:{kind:"IntValue",value:"0"}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"limit"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}},defaultValue:{kind:"IntValue",value:"500"}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"gravatarSize"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}},defaultValue:{kind:"IntValue",value:"40"}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"sort"}},type:{kind:"NamedType",name:{kind:"Name",value:"UsersSortField"}},defaultValue:{kind:"EnumValue",value:"id"}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"descending"}},type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}},defaultValue:{kind:"BooleanValue",value:!1}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"filters"}},type:{kind:"NamedType",name:{kind:"Name",value:"UsersFilter"}},defaultValue:{kind:"ObjectValue",fields:[]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"users"},arguments:[{kind:"Argument",name:{kind:"Name",value:"selection"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"offset"},value:{kind:"Variable",name:{kind:"Name",value:"offset"}}},{kind:"ObjectField",name:{kind:"Name",value:"limit"},value:{kind:"Variable",name:{kind:"Name",value:"limit"}}},{kind:"ObjectField",name:{kind:"Name",value:"sort"},value:{kind:"Variable",name:{kind:"Name",value:"sort"}}},{kind:"ObjectField",name:{kind:"Name",value:"descending"},value:{kind:"Variable",name:{kind:"Name",value:"descending"}}},{kind:"ObjectField",name:{kind:"Name",value:"filters"},value:{kind:"Variable",name:{kind:"Name",value:"filters"}}}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"slug"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"username"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"gravatar"},arguments:[{kind:"Argument",name:{kind:"Name",value:"size"},value:{kind:"Variable",name:{kind:"Name",value:"gravatarSize"}}}],directives:[]},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"AdministeredUser"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"firstname"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"lastname"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"OwnedUser"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"firstname"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"lastname"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:536}};a.loc.source={body:"query Users (\r\n  $offset: Int = 0,\r\n  $limit: Int = 500,\r\n  $gravatarSize: Int = 40,\r\n  $sort: UsersSortField = id,\r\n  $descending: Boolean = false,\r\n  $filters: UsersFilter = {}\r\n) {\r\n  users(selection: {\r\n    offset: $offset,\r\n    limit: $limit,\r\n    sort: $sort,\r\n    descending: $descending,\r\n    filters: $filters\r\n  }) {\r\n    id\r\n    slug\r\n    username\r\n    gravatar(size: $gravatarSize)\r\n    ... on AdministeredUser {\r\n      firstname lastname email\r\n    }\r\n    ... on OwnedUser {\r\n      firstname lastname email\r\n    }\r\n  }\r\n}\r\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function t(e,n){for(var a=0;a<e.definitions.length;a++){var i=e.definitions[a];if(i.name&&i.name.value==n)return i}}a.definitions.forEach(function(e){if(e.name){var n=new Set;!function e(n,a){if("FragmentSpread"===n.kind)a.add(n.name.value);else if("VariableDefinition"===n.kind){var i=n.type;"NamedType"===i.kind&&a.add(i.name.value)}n.selectionSet&&n.selectionSet.selections.forEach(function(n){e(n,a)}),n.variableDefinitions&&n.variableDefinitions.forEach(function(n){e(n,a)}),n.definitions&&n.definitions.forEach(function(n){e(n,a)})}(e,n),i[e.name.value]=n}}),e.exports=a,e.exports.Users=function(e,n){var a={kind:e.kind,definitions:[t(e,n)]};e.hasOwnProperty("loc")&&(a.loc=e.loc);for(var r=i[n]||new Set,s=new Set,d=new Set(r);d.size>0;){var o=d;d=new Set,o.forEach(function(e){s.has(e)||(s.add(e),(i[e]||new Set).forEach(function(e){d.add(e)}))})}return s.forEach(function(n){var i=t(e,n);i&&a.definitions.push(i)}),a}(a,"Users")},82:function(e,n,a){"use strict";a.r(n),a(20).default.register({user:{width:448,height:512,paths:[{d:"M224 256C294.7 256 352 198.7 352 128S294.7 0 224 0 96 57.3 96 128 153.3 256 224 256zM313.6 288H296.9C274.7 298.2 250 304 224 304S173.4 298.2 151.1 288H134.4C60.2 288 0 348.2 0 422.4V464C0 490.5 21.5 512 48 512H400C426.5 512 448 490.5 448 464V422.4C448 348.2 387.8 288 313.6 288z"}]}})}}]);