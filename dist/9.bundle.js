(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{115:function(e,i,a){"use strict";a.r(i);var n=a(116),s=a.n(n);for(var t in n)"default"!==t&&function(e){a.d(i,e,function(){return n[e]})}(t);i.default=s.a},116:function(e,i,a){"use strict";var n=a(22),s=function(e){return e&&e.__esModule?e:{default:e}}(a(81));var t=n.reCaptcha.siteKey;e.exports={name:"create-event",props:{},data:function(){return{siteKey:t,name:"",description:"",areChangesVisible:!1,isScheduleVisible:!1,isPublic:!0,captchaResponse:"",message:null}},components:{VueRecaptcha:s.default},methods:{onDone:function(e){var i=e.data;this.message=i.createEvent.message;var a=this;setTimeout(function(){a.$router.push({path:"/events"})},2e3)},onRecaptchaVerify:function(e){this.captchaResponse=e},onRefetch:function(){return["Events"]}},metaInfo:function(){return{title:function(){return"Create event"},meta:[{name:"description",content:"Create event"}]}},apollo:{currentUser:{query:a(21)}}}},117:function(e,i,a){var n=a(241);"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);(0,a(10).default)("372fca4b",n,!0,{})},239:function(e,i){var a={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"CreateEvent"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"description"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"areChangesVisible"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"isScheduleVisible"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"isPublic"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"captchaResponse"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createEvent"},arguments:[{kind:"Argument",name:{kind:"Name",value:"params"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}},{kind:"ObjectField",name:{kind:"Name",value:"description"},value:{kind:"Variable",name:{kind:"Name",value:"description"}}},{kind:"ObjectField",name:{kind:"Name",value:"areChangesVisible"},value:{kind:"Variable",name:{kind:"Name",value:"areChangesVisible"}}},{kind:"ObjectField",name:{kind:"Name",value:"isScheduleVisible"},value:{kind:"Variable",name:{kind:"Name",value:"isScheduleVisible"}}},{kind:"ObjectField",name:{kind:"Name",value:"isPublic"},value:{kind:"Variable",name:{kind:"Name",value:"isPublic"}}},{kind:"ObjectField",name:{kind:"Name",value:"captchaResponse"},value:{kind:"Variable",name:{kind:"Name",value:"captchaResponse"}}}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"code"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"message"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:449}};a.loc.source={body:"mutation CreateEvent(\r\n  $name: String!\r\n  $description: String!\r\n  $areChangesVisible: Boolean!\r\n  $isScheduleVisible: Boolean!\r\n  $isPublic: Boolean!\r\n  $captchaResponse: String!\r\n) {\r\n  createEvent(params: {\r\n    name: $name\r\n    description: $description\r\n    areChangesVisible: $areChangesVisible\r\n    isScheduleVisible: $isScheduleVisible\r\n    isPublic: $isPublic\r\n    captchaResponse: $captchaResponse\r\n  }) {\r\n    code\r\n    message\r\n  }\r\n}\r\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var n={};function s(e,i){for(var a=0;a<e.definitions.length;a++){var n=e.definitions[a];if(n.name&&n.name.value==i)return n}}a.definitions.forEach(function(e){if(e.name){var i=new Set;!function e(i,a){if("FragmentSpread"===i.kind)a.add(i.name.value);else if("VariableDefinition"===i.kind){var n=i.type;"NamedType"===n.kind&&a.add(n.name.value)}i.selectionSet&&i.selectionSet.selections.forEach(function(i){e(i,a)}),i.variableDefinitions&&i.variableDefinitions.forEach(function(i){e(i,a)}),i.definitions&&i.definitions.forEach(function(i){e(i,a)})}(e,i),n[e.name.value]=i}}),e.exports=a,e.exports.CreateEvent=function(e,i){var a={kind:e.kind,definitions:[s(e,i)]};e.hasOwnProperty("loc")&&(a.loc=e.loc);for(var t=n[i]||new Set,r=new Set,l=new Set(t);l.size>0;){var o=l;l=new Set,o.forEach(function(e){r.has(e)||(r.add(e),(n[e]||new Set).forEach(function(e){l.add(e)}))})}return r.forEach(function(i){var n=s(e,i);n&&a.definitions.push(n)}),a}(a,"CreateEvent")},240:function(e,i,a){"use strict";var n=a(117);a.n(n).a},241:function(e,i,a){(e.exports=a(9)(!1)).push([e.i,"\n.description[data-v-968a1e42]{height:200px;resize:vertical\n}\n.checkbox-fields[data-v-968a1e42]{margin-top:15px\n}\n.checkbox-fields>div[data-v-968a1e42]:not(:first-child){border-left:1px solid #c0c0c0\n}\n",""])},298:function(e,i,a){"use strict";var n=function(){var e=this,i=e.$createElement,n=e._self._c||i;return n("div",[n("hero",{attrs:{title:"Create event",subtitle:"Make it good"}}),e._v(" "),n("div",{staticClass:"columns is-mobile is-centered"},[n("section",{staticClass:"content-box column is-two-thirds"},[e.message?n("div",{staticClass:"notification is-info"},[e._v("\n        "+e._s(e.message)+"\n      ")]):e._e(),e._v(" "),e.currentUser?e._e():n("div",[e._v("Login required")]),e._v(" "),e.currentUser?n("ApolloMutation",{attrs:{mutation:a(239),variables:{name:e.name,description:e.description,areChangesVisible:e.areChangesVisible,isScheduleVisible:e.isScheduleVisible,isPublic:e.isPublic,captchaResponse:e.captchaResponse},refetchQueries:e.onRefetch},on:{done:e.onDone},scopedSlots:e._u([{key:"default",fn:function(i){var a=i.mutate,s=i.loading,t=(i.error,i.gqlError);return[n("form",{class:{disabled:s}},[n("div",{staticClass:"field"},[n("label",{staticClass:"label"},[e._v("Name")]),e._v(" "),n("div",{staticClass:"control"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.name,expression:"name"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],class:{input:!0,"is-danger":e.errors.has("name")},attrs:{type:"text",name:"name",tabindex:"1",placeholder:"Name of the event"},domProps:{value:e.name},on:{input:function(i){i.target.composing||(e.name=i.target.value)}}}),e._v(" "),n("span",{directives:[{name:"show",rawName:"v-show",value:e.errors.has("name"),expression:"errors.has('name')"}],staticClass:"help is-danger"},[e._v("\n                    "+e._s(e.errors.first("name"))+"\n                  ")])])]),e._v(" "),n("div",{staticClass:"field"},[n("label",{staticClass:"label"},[e._v("Description")]),e._v(" "),n("div",{staticClass:"control"},[n("textarea",{directives:[{name:"model",rawName:"v-model",value:e.description,expression:"description"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],class:{description:!0,input:!0,"is-danger":e.errors.has("description")},attrs:{type:"text",name:"description",tabindex:"1",placeholder:"Description of the event"},domProps:{value:e.description},on:{input:function(i){i.target.composing||(e.description=i.target.value)}}}),e._v(" "),n("span",{directives:[{name:"show",rawName:"v-show",value:e.errors.has("description"),expression:"errors.has('description')"}],staticClass:"help is-danger"},[e._v("\n                    "+e._s(e.errors.first("description"))+"\n                  ")])])]),e._v(" "),n("div",{staticClass:"columns checkbox-fields"},[n("div",{staticClass:"column is-one-third"},[n("div",{staticClass:"field"},[n("label",{staticClass:"label"},[e._v("Should the event be public?")]),e._v(" "),n("div",{staticClass:"control has-icons-left has-icons-right"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.isPublic,expression:"isPublic"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],class:{"is-danger":e.errors.has("isPublic")},attrs:{type:"checkbox",name:"isPublic",tabindex:"1"},domProps:{checked:Array.isArray(e.isPublic)?e._i(e.isPublic,null)>-1:e.isPublic},on:{change:function(i){var a=e.isPublic,n=i.target,s=!!n.checked;if(Array.isArray(a)){var t=e._i(a,null);n.checked?t<0&&(e.isPublic=a.concat([null])):t>-1&&(e.isPublic=a.slice(0,t).concat(a.slice(t+1)))}else e.isPublic=s}}}),e._v(" "),n("span",{directives:[{name:"show",rawName:"v-show",value:e.errors.has("isPublic"),expression:"errors.has('isPublic')"}],staticClass:"help is-danger"},[e._v("\n                        "+e._s(e.errors.first("isPublic"))+"\n                      ")])])]),e._v(" "),n("p",[e._v("If checked, the event will appear in the list of events for everyone. Anyone is able to join the event.")])]),e._v(" "),n("div",{staticClass:"column is-one-third"},[n("div",{staticClass:"field"},[n("label",{staticClass:"label"},[e._v("Should the schedule be visible during the event?")]),e._v(" "),n("div",{staticClass:"control has-icons-left has-icons-right"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.isScheduleVisible,expression:"isScheduleVisible"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],class:{"is-danger":e.errors.has("isScheduleVisible")},attrs:{type:"checkbox",name:"isScheduleVisible",tabindex:"1"},domProps:{checked:Array.isArray(e.isScheduleVisible)?e._i(e.isScheduleVisible,null)>-1:e.isScheduleVisible},on:{change:function(i){var a=e.isScheduleVisible,n=i.target,s=!!n.checked;if(Array.isArray(a)){var t=e._i(a,null);n.checked?t<0&&(e.isScheduleVisible=a.concat([null])):t>-1&&(e.isScheduleVisible=a.slice(0,t).concat(a.slice(t+1)))}else e.isScheduleVisible=s}}}),e._v(" "),n("span",{directives:[{name:"show",rawName:"v-show",value:e.errors.has("isScheduleVisible"),expression:"errors.has('isScheduleVisible')"}],staticClass:"help is-danger"},[e._v("\n                        "+e._s(e.errors.first("isScheduleVisible"))+"\n                      ")])])]),e._v(" "),n("p",[e._v("If checked, the swapping schedule will be public during the event.\n                  "),n("br"),n("br"),n("b",[e._v("Note")]),e._v(": swapping schedule would otherwise be revealed once the event is completed.")])]),e._v(" "),n("div",{staticClass:"column is-one-third"},[n("div",{staticClass:"field"},[n("label",{staticClass:"label"},[e._v("Should changes be visible during the event?")]),e._v(" "),n("div",{staticClass:"control has-icons-left has-icons-right"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.areChangesVisible,expression:"areChangesVisible"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],class:{"is-danger":e.errors.has("areChangesVisible")},attrs:{type:"checkbox",name:"areChangesVisible",tabindex:"1"},domProps:{checked:Array.isArray(e.areChangesVisible)?e._i(e.areChangesVisible,null)>-1:e.areChangesVisible},on:{change:function(i){var a=e.areChangesVisible,n=i.target,s=!!n.checked;if(Array.isArray(a)){var t=e._i(a,null);n.checked?t<0&&(e.areChangesVisible=a.concat([null])):t>-1&&(e.areChangesVisible=a.slice(0,t).concat(a.slice(t+1)))}else e.areChangesVisible=s}}}),e._v(" "),n("span",{directives:[{name:"show",rawName:"v-show",value:e.errors.has("areChangesVisible"),expression:"errors.has('areChangesVisible')"}],staticClass:"help is-danger"},[e._v("\n                        "+e._s(e.errors.first("areChangesVisible"))+"\n                      ")])]),e._v(" "),n("p",[e._v("If checked, will make it possible for others to fully see all submitted roundsubmissions while the event is progressing.")])])])]),e._v(" "),n("div",{staticClass:"field"},[n("label",{staticClass:"label"},[e._v("Anti-spam")]),e._v(" "),n("div",{staticClass:"control has-icons-left has-icons-right"},[n("vue-recaptcha",{attrs:{sitekey:e.siteKey},on:{verify:e.onRecaptchaVerify}})],1)]),e._v(" "),n("a",{staticClass:"button",on:{click:function(e){a()}}},[n("b",[e._v("Create event")])]),e._v(" "),t?n("p",{staticClass:"error"},[e._v(e._s(t.message))]):e._e()])]}}])}):e._e()],1)])],1)},s=[];a.d(i,"a",function(){return n}),a.d(i,"b",function(){return s})},61:function(e,i,a){"use strict";a.r(i);var n=a(298),s=a(115);for(var t in s)"default"!==t&&function(e){a.d(i,e,function(){return s[e]})}(t);a(240);var r=a(4),l=Object(r.a)(s.default,n.a,n.b,!1,null,"968a1e42",null);i.default=l.exports},81:function(e,i,a){"use strict";a.r(i);var n=function(){var e=!1,i=[];return{resolved:function(){return e},resolve:function(a){if(!e){e=!0;for(var n=0,s=i.length;n<s;n++)i[n](a)}},promise:{then:function(a){e?a():i.push(a)}}}};var s=function(){var e=n();return{notify:function(){e.resolve()},wait:function(){return e.promise},render:function(e,i,a){this.wait().then(function(){a(window.grecaptcha.render(e,i))})},reset:function(e){void 0!==e&&(this.assertLoaded(),this.wait().then(function(){return window.grecaptcha.reset(e)}))},execute:function(e){void 0!==e&&(this.assertLoaded(),this.wait().then(function(){return window.grecaptcha.execute(e)}))},checkRecaptchaLoad:function(){window.hasOwnProperty("grecaptcha")&&window.grecaptcha.hasOwnProperty("render")&&this.notify()},assertLoaded:function(){if(!e.resolved())throw new Error("ReCAPTCHA has not been loaded")}}}();"undefined"!=typeof window&&(window.vueRecaptchaApiLoaded=s.notify);var t=Object.assign||function(e){for(var i=1;i<arguments.length;i++){var a=arguments[i];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},r={name:"VueRecaptcha",props:{sitekey:{type:String,required:!0},theme:{type:String},badge:{type:String},type:{type:String},size:{type:String},tabindex:{type:String}},mounted:function(){var e=this;s.checkRecaptchaLoad();var i=t({},this.$props,{callback:this.emitVerify,"expired-callback":this.emitExpired}),a=this.$slots.default?this.$el.children[0]:this.$el;s.render(a,i,function(i){e.$widgetId=i,e.$emit("render",i)})},methods:{reset:function(){s.reset(this.$widgetId)},execute:function(){s.execute(this.$widgetId)},emitVerify:function(e){this.$emit("verify",e)},emitExpired:function(){this.$emit("expired")}},render:function(e){return e("div",{},this.$slots.default)}};i.default=r}}]);